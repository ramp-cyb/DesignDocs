<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Order Services - Migration Strategy</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }
        h1 {
            color: #0062cc;
            text-align: center;
            margin-bottom: 30px;
        }
        .strategy-diagram {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin: 20px auto;
            width: 90%;
            overflow: hidden;
        }
        .strategy-diagram svg {
            max-width: 100%;
            height: auto;
            margin: 0;
            display: block;
            transform-origin: top left;
        }
        .timeline {
            display: flex;
            justify-content: space-between;
            margin: 40px auto;
            max-width: 900px;
            position: relative;
        }
        .timeline::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 4px;
            background-color: #0062cc;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }
        .timeline-item {
            background-color: white;
            border: 2px solid #0062cc;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
            z-index: 2;
        }
        .timeline-phase {
            font-weight: bold;
            font-size: 16px;
        }
        .timeline-details {
            position: absolute;
            width: 180px;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            font-size: 12px;
        }
        .back-link {
            display: block;
            margin: 20px auto;
            text-align: center;
            color: #0062cc;
            text-decoration: none;
            font-weight: bold;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .strategy-info {
            max-width: 900px;
            margin: 20px auto;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Customer Order Services Migration Strategy</h1>
    
    <div class="strategy-info">
        <p>This diagram illustrates the Strangler Pattern migration approach with the Anti-Corruption Layer (ACL), showing how functionality is gradually moved from the monolith to microservices.</p>
        
        <h3>Key Benefits of the Strangler Pattern</h3>
        <ul style="text-align: left; max-width: 800px; margin: 0 auto; display: inline-block;">
            <li><strong>Risk Mitigation</strong>: Gradual replacement reduces the risk compared to a full rewrite</li>
            <li><strong>Continuous Delivery</strong>: Delivers business value incrementally throughout the migration</li>
            <li><strong>Reversibility</strong>: Feature toggles and fallbacks allow quick rollback if issues arise</li>
            <li><strong>Domain Alignment</strong>: Each microservice maps to a well-defined business capability</li>
        </ul>
    </div>
    
    <div class="strategy-diagram">
        <svg width="1000" height="600" viewBox="0 0 1000 600" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg">
            <!-- Initial State -->
            <rect x="100" y="20" width="800" height="120" rx="5" ry="5" fill="#e0f7fa" stroke="#00acc1" stroke-width="2"/>
            <text x="500" y="45" font-weight="bold" text-anchor="middle" font-size="16">Initial State: Monolithic Application</text>
            
            <!-- Monolith Box -->
            <rect x="200" y="60" width="600" height="60" rx="5" ry="5" fill="#b2ebf2" stroke="#00acc1" stroke-width="2"/>
            <text x="500" y="95" font-weight="bold" text-anchor="middle" font-size="14">Customer Order Services Monolith</text>
            
            <!-- Phase 1 -->
            <rect x="100" y="160" width="800" height="180" rx="5" ry="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
            <text x="500" y="185" font-weight="bold" text-anchor="middle" font-size="16">Phase 1: Strangler Pattern Begins</text>
            
            <!-- API Gateway -->
            <rect x="200" y="210" width="600" height="30" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="500" y="230" font-weight="bold" text-anchor="middle" font-size="14">API Gateway / BFF</text>
            
            <!-- Monolith with ACL -->
            <rect x="200" y="250" width="400" height="70" rx="5" ry="5" fill="#b2ebf2" stroke="#00acc1" stroke-width="2"/>
            <text x="400" y="280" font-weight="bold" text-anchor="middle" font-size="14">Monolith with Anti-Corruption Layer</text>
            
            <!-- Product Microservice -->
            <rect x="620" y="250" width="180" height="70" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="710" y="280" font-weight="bold" text-anchor="middle" font-size="14">Product Catalog Microservice</text>
            
            <!-- Migration arrows -->
            <line x1="600" y1="90" x2="710" y2="250" stroke="#f44336" stroke-width="2" stroke-dasharray="5,5"/>
            <polygon points="710,250 700,240 720,240" fill="#f44336"/>
            <text x="670" y="160" font-weight="bold" fill="#f44336" text-anchor="middle" font-size="12">Extract</text>
            
            <!-- Phase 2 -->
            <rect x="100" y="360" width="800" height="220" rx="5" ry="5" fill="#fff8e1" stroke="#ffa000" stroke-width="2"/>
            <text x="500" y="385" font-weight="bold" text-anchor="middle" font-size="16">Phase 2+: Progressive Migration</text>
            
            <!-- API Gateway -->
            <rect x="200" y="410" width="600" height="30" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="500" y="430" font-weight="bold" text-anchor="middle" font-size="14">API Gateway / BFF</text>
            
            <!-- Shrinking Monolith -->
            <rect x="200" y="450" width="200" height="70" rx="5" ry="5" fill="#b2ebf2" stroke="#00acc1" stroke-width="2"/>
            <text x="300" y="480" font-weight="bold" text-anchor="middle" font-size="14">Shrinking Monolith with ACL</text>
            
            <!-- Microservices -->
            <rect x="420" y="450" width="140" height="70" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="490" y="480" font-weight="bold" text-anchor="middle" font-size="12">Product Catalog</text>
            
            <rect x="580" y="450" width="140" height="70" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="650" y="480" font-weight="bold" text-anchor="middle" font-size="12">Customer Management</text>
            
            <rect x="420" y="530" width="140" height="40" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="490" y="555" font-weight="bold" text-anchor="middle" font-size="12">Inventory</text>
            
            <rect x="580" y="530" width="140" height="40" rx="5" ry="5" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="650" y="555" font-weight="bold" text-anchor="middle" font-size="12">Order Processing</text>
            
            <!-- Chassis Services -->
            <rect x="740" y="450" width="60" height="120" rx="5" ry="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
            <text x="770" y="510" font-weight="bold" text-anchor="middle" font-size="12" transform="rotate(90 770,510)">Technical Chassis Services</text>
            
            <!-- Migration arrow -->
            <line x1="400" y1="280" x2="490" y2="450" stroke="#f44336" stroke-width="2" stroke-dasharray="5,5"/>
            <polygon points="490,450 480,440 500,440" fill="#f44336"/>
            
            <line x1="400" y1="280" x2="650" y2="450" stroke="#f44336" stroke-width="2" stroke-dasharray="5,5"/>
            <polygon points="650,450 640,440 660,440" fill="#f44336"/>
            
            <line x1="400" y1="280" x2="490" y2="530" stroke="#f44336" stroke-width="2" stroke-dasharray="5,5"/>
            <polygon points="490,530 480,520 500,520" fill="#f44336"/>
            
            <line x1="400" y1="280" x2="650" y2="530" stroke="#f44336" stroke-width="2" stroke-dasharray="5,5"/>
            <polygon points="650,530 640,520 660,520" fill="#f44336"/>
            
            <!-- ACL arrows -->
            <line x1="300" y1="450" x2="420" y2="485" stroke="#2196f3" stroke-width="2"/>
            <polygon points="420,485 410,490 410,480" fill="#2196f3"/>
            
            <line x1="300" y1="450" x2="420" y2="550" stroke="#2196f3" stroke-width="2"/>
            <polygon points="420,550 410,555 410,545" fill="#2196f3"/>
            
            <text x="360" y="515" fill="#2196f3" font-weight="bold" font-size="12">ACL</text>
            
            <!-- Legend -->
            <rect x="740" y="20" width="160" height="120" rx="5" ry="5" fill="#ffffff" stroke="#757575" stroke-width="1"/>
            <text x="820" y="40" font-weight="bold" text-anchor="middle" font-size="12">Legend</text>
            <rect x="750" y="50" width="20" height="20" fill="#b2ebf2" stroke="#00acc1" stroke-width="2"/>
            <text x="775" y="65" font-size="12" x="785" text-anchor="start">Monolith</text>
            
            <rect x="750" y="80" width="20" height="20" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
            <text x="775" y="95" font-size="12" x="785" text-anchor="start">Microservices</text>
            
            <line x1="750" y1="110" x2="770" y2="110" stroke="#f44336" stroke-width="2" stroke-dasharray="5,5"/>
            <text x="775" y="115" font-size="12" x="785" text-anchor="start">Migration</text>
        </svg>
    </div>
    
    <div class="timeline">
        <div class="timeline-item">
            <div class="timeline-phase">Phase 1</div>
            <div class="timeline-details">Product Catalog Microservice extraction</div>
        </div>
        <div class="timeline-item">
            <div class="timeline-phase">Phase 2</div>
            <div class="timeline-details">Customer Management Microservice extraction</div>
        </div>
        <div class="timeline-item">
            <div class="timeline-phase">Phase 3</div>
            <div class="timeline-details">Inventory Management Microservice extraction</div>
        </div>
        <div class="timeline-item">
            <div class="timeline-phase">Phase 4</div>
            <div class="timeline-details">Order Processing Microservice extraction</div>
        </div>
        <div class="timeline-item">
            <div class="timeline-phase">Phase 5</div>
            <div class="timeline-details">Payment Processing Microservice extraction</div>
        </div>
    </div>

    <a href="index.html" class="back-link">← Back to Main Report</a>
</body>
</html>
